<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title></title>
	<script type="text/javascript">
		window.onload = function () {
			//获取到box对象
			var oBox = document.getElementById('box');
			//定义x y坐标
			var x = oBox.style.left;
			var y = oBox.style.top;
			oBox.innerHTML = "X: " + 0 + " Y: " + 0;
			//键盘按下事件
			document.onkeydown = function (ev) {
				//事件兼容性处理
				var ev = ev || event;
				//键值: 上38 下 40 左37 右39
				switch (ev.keyCode) {
					case 38:
						y -= 1;
						break;
					case 40:
						y += 1;
						break;
					case 37:
						x -= 1;
						break;
					case 39:
						x += 1;
						break;
				}
				//显示坐标
				oBox.innerHTML = "X: " + x + " Y: " + y;
				//改变偏移量
				oBox.style.left = x + "px";
				oBox.style.top = y + "px";
			}
			oBox.onmousedown = function (ev) {
				//事件兼容性处理
				var ev = ev || event;
				var disX = ev.clientX - oBox.offsetLeft;
				var disY = ev.clientY - oBox.offsetTop;
				document.onmousemove = function (ev) {
					var ev = ev || event;
					//显示坐标
					oBox.innerHTML = "X: " + x + " Y: " + y;
					x = ev.clientX - disX;
					y = ev.clientY - disY;
					//改变偏移量
					oBox.style.left = x + "px";
					oBox.style.top = y + "px";
				}
				document.onmouseup = function () {
					document.onmousemove = null;
					document.onmouseup = null;
				}
				return false;
			}
		}
	</script>
	<style type="text/css">
		#box {
			width: 100px;
			height: 100px;
			background: red;
			position: absolute;
		}
	</style>
</head>

<body>
	<div id="box"></div>
	<div id="box2"></div>
</body>

</html>